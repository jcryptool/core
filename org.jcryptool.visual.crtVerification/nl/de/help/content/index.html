<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Zertifikat-Verifikation</title>
</head>

<body>
<h1>Zertifikat-Verifikation</h1>
<p>Willkommen in der Online-Hilfe des Plugins, das zeigt, wie Signaturen und Zertifikate mit drei verschiedenen Gültigkeitsmodellen validiert werden:</p>
<ul>
  <li>Schalenmodell,</li>
  <li>modifiziertes Schalenmodell</li>
  <li>und Kettenmodell.</li>
</ul>
<p>Im Folgenden finden Sie einen Überblick zum Plugin sowie eine detaillierte Erklärung zu seiner Verwendung. Zum Schluss werden die Unterschiede der Gültigkeitsmodelle kurz erklärt.</p>

<p>Für die Aussage, ob eine Signatur als gültig erkannt wird, spielen mehrere Dinge eine Rolle &ndash; manche haben gar nichts damit zu tun, ob die Nachricht selbst verändert wurde oder nicht:</p>
<ul>
  <li>das benutzte Gültigkeitsmodell,</li>
  <li>der Zertifikatspfad (bestehend aus den Zertifikaten von Root-CA, CA und Teilnehmer),</li>
  <li>die Gültigkeitsdauer von jedem dieser Zertifikate,</li>
  <li>sowie der Verifizierungs- und der Signier-Zeitpunkt.</li>
</ul>
<p>Alle 8 Zeitpunkte können mit Hilfe von Schiebereglern manipuliert werden, und danach erneut eine Überprüfung durchgeführt werden.</p>
<p><img src="GUI-Start.png" width="85%" alt="Grafische Oberfläche: Zertifikat-Verifikation" /></p>

<p>&nbsp;</p>
<h2>Allgemeine Informationen</h2>
<h3>Reset- oder Neustart-Funktion</h3>
<p>Das Plugin kann mit dem Klick auf die Ikone "Reset" oben rechts auf seinen Ursprungszustand zurückgesetzt werden. Alle vom User getätigten Änderungen werden verworfen.</p>
<!-- TAKEN OUT:
<h3>PKI-Plugin</h3>
<p>Da das Plugin inhaltlich auf dem PKI-Plugin aufsetzt, wird beim Betätigen dieses Plug-in aufgerufen.</p>
<h3>Signaturverifikation</h3>
<p>Das Signatur-Verifikations-Plug-in wird aufgerufen.</p>
 -->

<p>&nbsp;</p>
<h2>Nutzung des Plug-ins</h2>
<p>Im Folgenden werden wir die Funktionen des Plug-ins anhand eines möglichen Durchlaufs beschreiben.</p>

<h3>Schritt 1</h3>
<p>Das Plugin hat bei Starten gleich sinnvolle Werte für alle 8 Zeitpunkte eingestellt:</p>
<pre>
    Root-CA:      1.7.10 - 1.3.32<br/>
    CA:           1.1.13 - 1.9.29<br/>
    Teilnehmer:   1.7.15 - 1.11.23<br/>
    Signier-Zeitpunkt:    01.11.2018<br/>
    Verifizier-Zeitpunkt: 01.07.2020
</pre>
<p>Alternativ können Sie die Zeitpunkte auch aus in JCT gespeicherten Zertifikaten laden. Beim Klicken auf die Buttons "Root CA Zertifikat laden", "CA Zertifikat laden" und "Teilnehmerzertifikat laden" öffnet sich jeweils ein Dialogfenster (siehe Abbildung) zum Auswählen des zu ladenden Zertifikats. In diesem Fenster wählen Sie das gewünschte Zertifikat in der Liste aus und klicken auf "Fertigstellen". Die Regler in der Oberfläche haben sich nun entsprechend der geladenen Zertifikate angepasst und die Schrift des Buttons zum Laden in der Hauptoberfläche ist jetzt grün. Bitte beachten Sie, dass die Veränderung der Schieberegler rein zur Anschauung dient. Das heißt, es werden weder die Zertifikate verändert noch werden neue erstellt.</p>
<p><img src="PopUp.png" width="85%" alt="Fenster zum Laden der Zertifikate" /></p>


<h3>&nbsp;</h3>
<h3>Schritt 2</h3>
<p>Wenn Sie alle drei Zertifikate (Root-CA, CA und Teilnehmer) erfolgreich geladen haben oder die voreingestellten Zeitpunkte einfach übernommen haben, wählen Sie, mit Hilfe der Radio-Buttons, nach welchem Gültigkeitsmodell Sie validieren möchten. Nun können Sie auf den Button "Überprüfen" drücken und erfahren,  anhand der Symbole "X" (im roten Kreis) oder "Häkchen" (im grünen Kreis), ob die geladene Kette gültig ist oder nicht.</p>

<p>Im Log finden Sie alle Schritte, die Sie seit dem Starten oder Reseten des Plugins durchgeführt haben in Textform wieder.</p>
<p>Auswahl des Gültigkeitsmodells:</p>
<p><img src="Gueltigkeitsmodelle.png" width="85%" alt="Auswahl der Gültikeitsmodelle" /></p>
<p>Erfolgreich validiert:</p>
<p><img src="gruenerHaken.png" width="85%" alt="Erfolgreich validiert" /></p>
<p>Erfolglos validiert:</p>
<p><img src="rotesKreuz.png" width="85%" alt="Erfolglos validiert" /></p>
<p>Log:</p>
<p><img src="Log.png" width="85%" alt="Log" /></p>


<h3>&nbsp;</h3>
<h3>Schritt 3</h3>
<p>Zu Anschauungszwecken können Sie nun mit den Schiebereglern die Gültigkeitsdauer von jedem der Zertifikate sowie den Verifizierungs- <!-- [[[TODO: Bitte ändern, dass überall manipulierbar - (nicht nur beim Schalenmodell)]]] --> und den Signierzeitpunkt manipulieren. Danach können Sie erneut eine Validierung mit dem Überprüfen-Button durchführen.</p>
<p>Mit Hilfe der Schieberegler werden nur die Monate angepasst. Damit Sie ein Tages-genaues Datum angeben können, gibt es in der Gruppierung "Details zu den Zeitpunkten" entsprechende Textfelder. Nach einer Manipulation mit den Schiebereglern wird die Schrift der Buttons "Root CA Zertifikat laden", "CA Zertifikat laden" und "Teilnehmerzertifikat laden" orange.</p>

<p>Die hellblauen Pfeile unterhalb der Schieberegler für die Gültigkeitsdauer der 3 Zertifikate zeigen das Signaturdatum und die violetten Pfeil zeigen das Verifikationsdatum.<!-- [[[TODO: Auch wenn das Verifizierungsdatum nur im Schalenmodell für die Bewertung des Verifizierungsergebnisses berücksichtigt wird, kann man den Slider in allen 3 Fällen verändern.]]] --> </p>

<p>Schieberegler:</p>
<p><img src="Schieberegler.png" width="85%" alt="Schieberegler" /></p>

<p>Details zu den Zeitpunkten:</p>
<p><img src="Details.png" width="85%" alt="Details" /></p>



<p>&nbsp;</p>
<h2>Gültigkeitsmodelle</h2>
<p>Gültigkeitsmodelle beschreiben, welche Eigenschaften zu welchen Zeitpunkten erfüllt sein müssen, um eine Signatur als gültig zu bewerten. Hier werden die drei am häufigsten verwendeten  Gültigkeitsmodelle vorgestellt: das Schalenmodell, eine modifizierte Variante davon und das Kettenmodell.</p>

<h3>Schalenmodell</h3>
<p>Ein Schlüssel(-paar) ist unter Verwendung des Schalenmodells zu einem bestimmten Zeitpunkt genau dann gültig, wenn zu diesem Zeitpunkt der zugehörige Zertifizierungspfad gültig ist. Der Zertifizierungspfad ist zu einem bestimmten Zeitpunkt genau dann gültig, wenn alle in ihm enthaltenen Zertifikate zu diesem Zeitpunkt gültig sind.</p>
<p>Ein Zertifikat ist zu einem bestimmten Zeitpunkt genau dann gültig, wenn</p>
<ul>
  <li>die Signatur des Zertifikates gültig ist.</li>
  <li>der fragliche Zeitpunkt innerhalb des Gültigkeitszeitraums des Zertifikates liegt.</li>
  <li>das Zertifikat nicht in der zum Zeitpunkt der Prüfung aktuellen Sperrliste der ausstellenden Zertifizierungsstelle enthalten ist oder das Zertifikat enthalten ist, der angegebene Sperrzeitpunkt jedoch nach dem fraglichen Zeitpunkt liegt.</li>
</ul>
<p><img src="schalenmodell.png" width="85%" alt="Schalenmodell" /></p>

<h3>&nbsp;</h3>
<h3>Modifiziertes Schalenmodell</h3>
<p>Das modifizierte Schalenmodell entspricht dem eben beschriebenen Schalenmodell  mit der besonderen Randbedingung, dass für die Überprüfung eines Zertifikatspfades der Zeitpunkt der Dokumentsignaturbildung herangezogen wird und nicht wie im Schalenmodell der aktuelle Zeitpunkt der Prüfung. Dies wird normalerweise in Europa verwendet.</p>
<p><img src="modSchalenmodell.png" width="85%" alt="Modifiziertes Schalenmodell" /></p>

<h3>&nbsp;</h3>
<h3>Kettenmodell</h3>
<p>Im Kettenmodell wird nur gefordert, dass jedes Zertifikat im Zeitpunkt seiner Anwendung gültig war. Das bedeutet: Zum Signierzeitpunkt des Dokuments muss das Teilnehmer-Zertifikat  gültig gewesen sein. Zum Zeitpunkt der Zertifizierung des Teilnehmer-Zertifikates muss das CA-Zertifikat gültig gewesen sein usw. Ob ein Zertifikat seit der Dokumentsignatur gesperrt wurde, bleibt in diesem Modell unberücksichtigt.</p>
<p><img src="kettenmodell.png" width="85%" /></p>


<h3>&nbsp;</h3>
<h3>Beispiele</h3>
<h4>1) Alle Modelle gültig</h4>
<p><img src="alleGueltig.png" width="85%" alt="alleGueltig" /></p>

<h3>&nbsp;</h3>
<h4>2) Nur modifiziertes Schalenmodell und Kettenmodell gültig</h4>
<p><img src="kettenUndModSchalen2.png" width="85%" alt="Ketten- und modifiziertes Schalenmodell gültig" /></p>
<p>&nbsp;</p>
<p><img src="kettenUndModSchalen.png" width="85%" alt="Kettenmodell und modifiziertes Schalenmodell gültig" /></p>

<h3>&nbsp;</h3>
<h4>3) Nur Kettenmodell gültig</h4>
<p><img src="nurKetten2.png" width="85%" alt="Kettenmodell gültig" /></p>
<p>&nbsp;</p>
<p><img src="nurKetten.png" width="85%" alt="Nur Kettenmodell gültig" /></p>

<h3>&nbsp;</h3>
<p>Man sieht also Folgendes: Abhängig vom Gültigkeitsmodell kann eine Signatur schon deshalb als ungültig gewertet werden, wenn der Verifizier-Zeitpunkt ein anderer ist. Verblüffend ist, dass auch wenn sich die zu prüfende Nachricht und die Signatur überhaupt nicht änderte, Sie heute eine gültige Signatur bescheinigt bekommen können und morgen eine ungültige. Das einfache Schalenmodell hat sich u.a. auch deshalb nicht durchgesetzt, da dies für den Nutzer unverständlich ist.</p>


<h3>&nbsp;</h3>
	<h2>Referenzen zum Weiterlesen</h2>
	<ul>
		<li><a target="_blank" href="https://en.wikipedia.org/wiki/Certification_path_validation_algorithm">[1] Wikipedia: Certification path validation algorithm</a></li>
		<li><a target="_blank" href="https://de.wikipedia.org/wiki/Public-Key-Zertifikat">[2] Wikipedia: Public-Key-Zertifikat</a></li>
		<li><a target="_blank" href="https://de.wikipedia.org/wiki/Elektronische_Signatur">[3] Wikipedia: Elektronische Signatur</a></li>
		<li><a target="_blank" href="https://en.wikipedia.org/wiki/Electronic_signature">[4] Wikipedia: Electronic signature</a></li>
		<li><a target="_blank" href="https://de.wikipedia.org/wiki/Signaturgesetz_(Deutschland)">[5] Wikipedia: Signaturgesetz (Deutschland)</a></li>
		<li><a target="_blank" href="https://en.wikipedia.org/wiki/X.509">[6] Wikipedia: X.509</a></li>
	</ul>
	
<h3>&nbsp;</h3>
</body>
</html>
